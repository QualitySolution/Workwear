= Обновление
:experimental:

TIP: Обновляйте приложение регулярно! В новых версиях исправляются ошибки и расширяется функционал.

== Обновление приложения

При наличии доступа в интернет с компьютера на котором установлена программа, программа при запуске проверяет доступность новой версии. В случае возможности обновится, появится окно с предложением установить обновление.

image::update_update-info.png[]

btn:[Пропустить обновление]:: Запомнить что вы не хотите устанавливать эту версию. Не предлагать обновления до выхода следующего релиза.
btn:[Напомнить позже]:: Закрыть окно и начать работать сейчас в старой версии. Но при следующем запуске опять предложить обновится.
btn:[Скачать и установить]:: Запуск установки новой версии.

Если вы согласитесь на установку, автоматически загрузится и запустится установщик, такой же, как при установке новой программы.

image::update_winsetup.png[]

После нажатия несколько раз btn:[Далее >], установка новой версии приложения будет завершена.

== Обновление базы данных

При любом значительном обновлении программы, это происходит при смене первых двух цифр версии, например: обновление с 2.3 на 2.4, помимо обновления самого приложения, необходимо будет также обновить базу данных. При подключении из более новой версии программы к базе данных старой версии, программа предложит выполнить обновление БД.

Если в этот момент вы войдёте в программу под обычным пользователем, без прав администратора, программа выдаст следующее сообщение:

image::update_no-admin-message.png[]

Для выполнения обновления базы данных нужно зайти под администратором. Это может быть, либо пользователь root, созданный при установке сервера, либо другой пользователь у которого проставлена галочка "Администрирование" <<users.adoc#user-edit,в правах пользователя>>. При входе с правами администратора, появится окно выполнения обновления.

image::update_start-update-db.png[]

Перед обновлением программа сделает резервную копию базы. Рекомендуем не снимать галочку создания резервной копии.

WARNING: При многопользовательской работе с базой данных, убедитесь что в момент обновления никто не работает в программе. Иначе могут возникнуть непредсказуемые ошибки или произойдет повреждение данных.

image::update_process-update-db.png[]

После завершения обновления, можно заходить в программу под обычным пользователем.

WARNING: Обратите внимание, при многопользовательской работе в базе данных. Если кто-то один обновит базу данных на новую версию. Старые версии программы, перестанут работать с новой базой. Поэтому планируйте обновление программы у всех пользователей одновременно.

== Микро-обновление базы данных

В целях сохранения совместимости с предыдущими версиями программы, при незначительных изменениях\исправлениях базы данных. Применяется микро обновление. В том случае при входе от обычного пользователя программа также может попросить права администратора базы данных для установки микро-обновления. Но в отличии от большого обновления базы данных. совместимость со старыми версиями приложения не ломается. Например: После установки микро-обновления в версии 2.4.3, с базой данных без необходимости обновления программы смогут работать все версии 2.4.x, в том числе и более ранние, такие как 2.4.0 и 2.4.1.
