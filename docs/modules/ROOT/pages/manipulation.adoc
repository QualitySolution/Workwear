[#manipulation]
= Обработка
:experimental:

NOTE: Функциональность доступна начиная с редакции https://workwear.qsolution.ru/stoimost/[«Профессиональная»].

[#employee-processing]
== Корректировка сотрудников

В этом диалоге программа позволяет выполнить групповые действия над сотрудниками. Диалог обработчика открывается через меню menu:База[Обработка > Корректировка сотрудников].

image::manipulation_set-employee-norm.png[]

Для выполнения любого действия над сотрудниками, необходимо выделить тех сотрудников, к которым будем применять действие. Выделить нескольких можно удерживая клавиши kbd:[Shift] или kbd:[Ctrl].

Если сотрудников много, вместо прокручивания таблицы вниз для выделения, можно загрузить из базы сразу всех, воспользовавшись кнопкой btn:[Загрузить всех]. 

[#set-norm]
=== Установка нормы по должности

Можно массово установить норму в соответствии с должностью сотрудника, чтобы это сработало, в карточке сотрудника должна быть указана должность, а <<regulations.adoc#norms,нормы>> привязаны к должностям.

Для запуска процесса нажимаем кнопку btn:[Установить по должности]. Для ситуаций когда к одной должности привязано несколько норм, у обработчика есть 2 режима работы: проставлять только первую норму для должности и проставлять все нормы.

Для данной операции удобно использовать фильтр «Только сотрудники без норм».

По окончанию обработки, в колонке «Результат», появится информация об успехе или ошибке операции установки нормы для каждого сотрудника.

=== Пересчет сроков носки у полученного

Данная операция у всех выбранных сотрудников пересчитывает сроки носки у последнего выданного сотруднику. В обычной ситуации этим пересчетом не надо пользоваться. Потому что, допустим, если сотрудник получил курточку на 12 месяцев, после получения им курточки норма изменилась, допустим, на 24 месяца, у выданной ему курточки сроки носки не должны поменяться, так как сотрудник в ведомости расписался с указанием даты получения и срока носки. Но бывают ситуации кода сроки носки все же надо присчитать. Для примера выше это означает что в старых ведомостях срок носки поменяется на 24.

image::manipulation_recalculate.png[]

Результат выполнения пересчета отображается в колонке «Результат». Открыть детальный отчет об выполненных изменениях можно воспользовавшись кнопкой btn:[Лог выполнения]

=== Пересчет даты следующего получения

Данное действие пересчитывает только сроки следующей выдачи для всех выбранных сотрудников. Необходимость в данной операции отсутствует, ее можно использовать в случае если данные следующей выдачи по какой-то причине не были пересчитаны нормальным путем в результате изменений.

=== Замена полей в карточке сотрудника

В этом же диалоге через кнопку btn:[Заменить] можно массово установить для сотрудников следующие данные:

* Подразделение
* Отдел
* Должность

[#replace-links]
== Замена ссылок

Иногда в процессе ведения учета могут возникать дубликаты в справочниках. В случае если в работе были использованы оба варианта, программа позволяет заменить все ссылки, указывающие на исходный объект справочника, другим объектом того же справочника.

Для этого служит диалог menu:База[Обработка > Замена ссылок].

image::manipulation_replace-entity.png[]

Тут все просто добавляем исходные объекты в список, это объекты которые нужно заменить. Ниже указываем на что меняем. При желании исходные объекты можно сразу удалить.

Сейчас замена ссылок поддерживает следующие справочники:

* Номенклатура нормы
