= Данные о сотрудниках
:experimental:

[#employees]
== Карточка сотрудника

Корректное заполнение данных о сотруднике, является важнейшей задачей учета выдачи СИЗ. Диалог карточки сотрудника имеет несколько вкладок разного назначения, далее разберем их отдельно.  

image::employees_journal.png[]

TIP: В редакции предприятие, если для сотрудника введен серийный номер бесконтактной карты, он помечен специальным значком.

=== Основная информация

image::employees-wearcard.png[]

В карточке сотрудника как минимум нужно заполнить Ф.И.О и пол, все остальные поля являются опциональными. Номер карточки учета обычно присваивается автоматически, но при желании можно его установить вручную.

TIP: Программа автоматически проставит по сотрудника по его имени.

Если поле дата увольнения заполнено, программа будет считать этого сотрудника уволенным. При смене должности программа предложит заполнить дату изменение должности(она указывается в печатной карточке сотрудника).

[#employee-uid-card]
В редакции «Предприятие» для осуществления <<#identity-cards,выдачи по картам СКУД>>, к сотруднику можно привязать UID его карты. Его можно ввести вручную или прочитать со считывателя, нажав кнопку btn:[Прочитать], рядом с полем «UID карты».

При желании, к карточке сотрудника можно прикрепить фотографию, для визуальной идентификации при выдаче. По умолчанию поле с фотографией скрыто за правой панелью.

=== Размеры

Для того, чтобы программа могла автоматически подобрать подходящую складскую позицию при выдаче, не забывайте перед выдачей спецодежды заполнять размеры сотрудника.

Программа при подборе подходящей спецодежды понимает, что если в номенклатуре размер указан сдвоенным, в виде «44-46», а в сотруднике просто «44», то спецодежда ему подходит. Более того, программа умеет переводить и сопоставлять международные размеры XXL c российскими, но если есть необходимость иметь возможность в карточке сотрудника указывать сдвоенные размеры, это можно включить в <<settings.adoc#accounting-settings,настройках учета>>. 

=== Применённые нормы

К каждому сотруднику можно привязать несколько <<regulations.adoc#norms,норм>>, из них будут сформированы потребности сотрудника, причем нормы будут не просто сложены, а объеденины. Например, если по нескольким нормам сотрудник должен получить одинаковую позицию, она будет выдана только один раз. Если в разных нормах у одной и той же позиции отличаются количество или сроки носки, то результирующие строки носки будут установлены по норме, предъявляющий самые жесткие требования. Например, если по одной норме сапоги надо выдать на 1 год, а по другой на 2 года, будет выбрана норма с наименьшим сроком носки.

Кнопка btn:[По должности], автоматически устанавливает нормы на основании указанной должности сотрудника.

[#issue-siz]
=== Выдача спецодежды

Вкладка «Спецодежда по нормам» отображает текущую потребность сотрудника в спецодежде, по ней можно сориентироваться, что положено сотруднику к выдаче и в каком количестве, когда сотрудник последний раз получал спецодежду по каждой позиции и когда следующее получение. Если у сотрудника установлены размеры, табличка также отображает наличие на складе подходящей к выдаче номенклатуры.

Кнопка btn:[Обновить потребности], пересчитывает потребности сотрудника про привязанным нормам. Обычно обновлять потребность вручную не требуется, но при изменении нормы после привязки ее к сотруднику, необходимо выполнить эту операцию вручную.

Кнопка btn:[Установить дату выдачи], позволяет установить дату последней выдачи вручную, не проводя саму выдачу спецодежды со склада. Данная возможность поможет вам проще начать использовать программу. Так как скорей всего до первого запуска программы, ваши сотрудники уже получали спецодежду и карточки были заполнены, так вы сможете заполнить информацию о прошлых выдача.

image:employees_set-last-issue-date.png[]

WARNING: По возможности не пользуйтесь ручной установкой даты выдачи, в случае если по конкретной позиции уже производились полноценные выдачи. Это может привести к некорректному вычислению числящейся за сотрудником спецодежды, так как данная функция создает фиктивные операции выдачи. Если вам надо поменять дату настоящей выдачи, просто поменяйте дату в документе выдачи. 

В сложных ситуациях, когда происходила перевыдача или недовыдача необходимого количества спецодежды и поэтому из таблице потребностей не очевидно почему программа сделала именно такой расчет сроков носки, получить детальную информацию о том в какой момент времени сколько числилось за сотрудником спецодежды выбранного типа можно нажав кнопку btn:[Хронология].

Произвести <<stock-documents.adoc##employee-issue,выдачу>> новой спецодежды можно прямо из карточки сотрудника, нажав кнопку btn:[Выдать недополученное].

TIP: Через контекстное меню(правая кнопка мыши) строки таблицы вы можете открыть номенклатуру нормы. 

=== Числится за сотрудником

Вкладка числится за сотрудником отображает детальную информацию по всем позициям, числящимся за сотрудником, в том числе выданным без потребностей(без нормы), или в ситуациях, когда потребность пропала, например, при смене нормы на другую. Табличка также позволяет наглядно увидеть процент износа на сегодня выданной спецодежды. 

[#history]
=== История выдач

Табличка отображает в хронологическом порядке список всей выданной сотруднику спецодежды. Позволяет быстро найти каким именно документом была осуществлена выдача конкретной позиции. Выполнив двойной щелчок мыши по колонке с номером документа, можно сразу же перейти в этот документ.

Табличка также позволяет изменить режим списания спецодежды. То есть, включить или выключить автоматическое списания для каждой выданной позиции. Задать настройку по умолчанию для режима списания можно в <<settings.adoc#accounting-settings,настройках учета>>.

[#print-wear-card]
=== Личная карточка учета выдачи СИЗ

Из диалога редактирования данных о сотруднике можно распечатать личную карточку учета выдачи СИЗ, по форме указанной в «Приложении к Межотраслевым правилам обеспечения работников специальной одеждой, специальной обувью и другими средствами индивидуальной защиты, утвержденным Приказом Минздравсоцразвития России от 01.06.2009 № 290н (в ред. Приказа Минздравсоцразвития РФ от 27.01.2010 № 28н)»

image::employees-print-wearcard.png[]

== Учет отпусков

Вкладка «Отпуска» в каточке сотрудника позволяют ввести информацию о датах, на которые сотрудник взял отпуск. Если дата следующего получения попадает на даты отпуска, то следующая выдача спецодежды будет сдвинута на первый день после выхода сотрудника из отпуска.

=== Типы отпусков

Через меню menu:Справочники[Виды отпусков], можно создать несколько различных типов отпусков. В основном это чисто информативный справочник о типе отпуска. У типа отпуска помимо имени есть параметр «Исключить отпуск из носки», он позволяет продлевать сроки носки на время, которое сотрудник пребывает в отпуске. Это подходит в основном для длительных видов отпусков, таких как «Навигационный» или «Декретный».

[#identity-cards]
== Выдача по бесконтактным картам

NOTE: Функциональность доступна только в версии "Предприятие"

Имеется возможность выдачи спецодежды сотрудникам по бесконтактным картам СКУД, которые на больших предприятиях обычно получают все сотрудники для доступа в различные помещения. Поддерживаются считыватели RusGuard (https://www.rgsec.ru/schityvatel-kart/r5-usb[R5-USB] и https://www.rgsec.ru/schityvatel-kart/r5-usb-prof[R5-USB Prof]). Нами протестирована работа с картами Mifare, технически должны поддерживаться все стандарты карт, поддерживаемые считывателями, если у вас возникли проблемы с каким-либо типом карт, напишите нам в техническую поддержку.

Для работы этого механизма к каждому сотруднику должен быть привязан номер его карты. Номер карты можно привязать как из <<#employee-uid-card,диалога карточки сотрудника>>, так и <<import.adoc#employees-excel-import,загрузив>> номера карт из Excel файла массово, который например можно сформировать по данных СКУД.

Диалог выдачи по бесконтактным картам открывается кнопкой btn:[Выдача] на панели инструментов. Он реализован в виде отдельного окна программы, чтобы  кладовщик мог переместить его на отдельный, предназначенный для получающего спецодежду.  

Первоначально работу со считывателем карт нужно настроить. Для этого нажмите кнопку btn:[Настройка] в диалоге. Выберите используемый считыватель, если программа обнаружила их несколько и укажите типы используемых карт. После этого считыватель переключится в режим постоянного опроса, об этом будут сигнализировать бегающий индикатор [▱▰▰▰▱▱▱] в информационной строке. Для организации выдачи, вы также должны указать склад выдачи. Программа сохранит эти настройки на компьютере для использования при последующих запусках. 

image::employees-setup-cardreader.png[]

TIP: Диалог выдачи реализован отдельным окном, чтобы его можно было переместить на второй экран(монитор), видимый получающему спецодежду сотруднику.

Выдача по карточкам происходит по максимально простой схеме:

. Сотрудник подносит карточку к считывателю первый раз.
. На экране отображается спецодежда, которую он может получить.
. Сотрудник склада готовит спецодежду к выдаче, при необходимости корректируя цифры в документе.
. Если все правильно, сотрудник подносит карточку к считывателю второй раз, для подтверждения выдачи.
. Программа создает документ выдачи сотруднику и готова принимать карточку следующего сотрудника для поиска.

image::employees-identity-cards-issue.png[]

Тайм-штамп точного времени второго считывания с номером карты хранится в операции выдачи. Тайм-штамп будет выведен на печать <<#print-wear-card,оборотной стороне в личной карточке учета>> сотрудника, получившего одежду в колонке подпись.